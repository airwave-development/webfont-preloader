var WebfontPreloader=function(){var e,t,n,o=function(){var e,t="abcdefghijklmnopqrstuvwxyz0123456789._*&^!@#$%".length,n=[];for(n.push("&#xE87C;"),e=0;e<50;e++)n.push("abcdefghijklmnopqrstuvwxyz0123456789._*&^!@#$%".substr(Math.floor(Math.random()*t),1));return n.join("")},i=function(){var e,t="function"==typeof document.body.getBoundingClientRect,n=!!document.body.offsetWidth,o=!0;if(!t&&!n)return a.dispatchCustomEvent("preloadReady",{success:!1,error:"clientUnSupported"}),void r();for(e=0;e<d;e++)t&&document.getElementById("font-styled-"+e).getBoundingClientRect().width===document.getElementById("font-"+e).getBoundingClientRect().width&&(o=!1),t||document.getElementById("font-styled-"+e).offsetWidth===document.getElementById("font-"+e).getBoundingClientRect().offsetWidth&&(o=!1);o&&!l&&(l=!0,a.dispatchCustomEvent("preloadReady",{success:!0}),r())},s=function(){l=!0,a.dispatchCustomEvent("preloadReady",{success:!1,error:"couldNotLoadAllFontsFaces"}),r()},r=function(){clearTimeout(e),clearInterval(t),document.getElementById("font-preloader")&&document.body.removeChild(n),d=0,e=null,t=null},d=0,l=!1,c=!1,a=this;!function(e){e.eventListeners={},e.addCustomEventListener=function(t,n){e.eventListeners[t]&&e.eventListeners[t]===n||(e.eventListeners[t]=n)},e.on=function(t,n){e.eventListeners[t]&&e.eventListeners[t]===n||(e.eventListeners[t]=n)},e.removeCustomEventListener=function(t){delete e.eventListeners[t]},e.off=function(t){delete e.eventListeners[t]},e.removeAllEventListeners=function(t){for(var n in e.eventListeners)delete e.eventListeners[n];e.eventListeners={}},e.dispatchCustomEvent=function(){var t=arguments,n=Array.prototype.slice.call(t,1);void 0!==e.eventListeners[t[0]]&&e.eventListeners[t[0]].apply(this,n)}}(this),this.preload=function(e,t,i){n||((n=document.createElement("div")).id="font-preloader",n.setAttribute("style","position:absolute;display:block;top:0px;width:100%;overflow:hidden;visibility:hidden;opacity:0;font-family:serif"),document.body.appendChild(n));var s,r,a=i?o()+i:o(),u=e||"serif",f=t||"400";c=!1,l=!1,(s=document.createElement("span")).id="font-styled-"+d,s.setAttribute("style","font-family:"+u+";font-weight:"+f+";font-size:17px;letter-spacing:normal;white-space:nowrap;"),s.appendChild(document.createTextNode(a)),n.appendChild(s),(r=document.createElement("span")).id="font-"+d,r.setAttribute("style","font-weight:"+f+";font-size:17px;letter-spacing:normal;white-space:nowrap;"),r.appendChild(document.createTextNode(a)),n.appendChild(r),d++},this.runPreloader=function(){if(clearTimeout(e),clearInterval(t),0===d)return l=!0,a.dispatchCustomEvent("preloadReady",{success:!1,error:"noFontfacesProvided"}),void r();c=!0,e=setTimeout(function(){s()},3e3),i(),t=setInterval(function(){i()},100)}};module.exports=WebfontPreloader;